{"version":3,"file":"view.js","mappings":"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","sources":["webpack://mega-menu-block/external module \"@wordpress/interactivity\"","webpack://mega-menu-block/webpack/bootstrap","webpack://mega-menu-block/webpack/runtime/make namespace object","webpack://mega-menu-block/./src/view.js"],"sourcesContent":["var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nconst { state, actions } = store( 'outermost/mega-menu', {\n\tstate: {\n\t\tget isMenuOpen() {\n\t\t\t// The menu is opened if either `click` or `focus` is true.\n\t\t\treturn (\n\t\t\t\tObject.values( state.menuOpenedBy ).filter( Boolean ).length > 0\n\t\t\t);\n\t\t},\n\t\tget menuOpenedBy() {\n\t\t\tconst context = getContext();\n\t\t\treturn context.menuOpenedBy;\n\t\t},\n\t},\n\tactions: {\n\t\ttoggleMenuOnClick() {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\t// Safari won't send focus to the clicked element, so we need to manually place it: https://bugs.webkit.org/show_bug.cgi?id=22261\n\t\t\tif ( window.document.activeElement !== ref ) ref.focus();\n\n\t\t\tif ( state.menuOpenedBy.click || state.menuOpenedBy.focus ) {\n\t\t\t\tactions.closeMenu( 'click' );\n\t\t\t\tactions.closeMenu( 'focus' );\n\t\t\t} else {\n\t\t\t\tcontext.previousFocus = ref;\n\t\t\t\tactions.openMenu( 'click' );\n\t\t\t}\n\t\t},\n\t\tcloseMenuOnClick() {\n\t\t\tactions.closeMenu( 'click' );\n\t\t\tactions.closeMenu( 'focus' );\n\t\t},\n\t\thandleMenuKeydown( event ) {\n\t\t\tif ( state.menuOpenedBy.click ) {\n\t\t\t\t// If Escape close the menu.\n\t\t\t\tif ( event?.key === 'Escape' ) {\n\t\t\t\t\tactions.closeMenu( 'click' );\n\t\t\t\t\tactions.closeMenu( 'focus' );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleMenuFocusout( event ) {\n\t\t\tconst context = getContext();\n\t\t\tconst menuContainer = context.megaMenu?.querySelector(\n\t\t\t\t'.wp-block-outermost-mega-menu__menu-container'\n\t\t\t);\n\t\t\t// If focus is outside menu, and in the document, close menu\n\t\t\t// event.target === The element losing focus\n\t\t\t// event.relatedTarget === The element receiving focus (if any)\n\t\t\t// When focusout is outside the document,\n\t\t\t// `window.document.activeElement` doesn't change.\n\n\t\t\t// The event.relatedTarget is null when something outside the navigation menu is clicked. This is only necessary for Safari.\n\t\t\t// TODO: There is still an issue in Safari where clicking on the menu link closes the menu. We don't want this. The toggleMenuOnClick callback should handle this.\n\t\t\tif (\n\t\t\t\tevent.relatedTarget === null ||\n\t\t\t\t( ! menuContainer?.contains( event.relatedTarget ) &&\n\t\t\t\t\tevent.target !== window.document.activeElement )\n\t\t\t) {\n\t\t\t\tactions.closeMenu( 'click' );\n\t\t\t\tactions.closeMenu( 'focus' );\n\t\t\t}\n\t\t},\n\t\topenMenu( menuOpenedOn = 'click' ) {\n\t\t\tconst { ref } = getElement();\n\t\t\tstate.menuOpenedBy[ menuOpenedOn ] = true;\n\t\t\tconst header = ref?.closest(\n\t\t\t\t'header'\n\t\t\t);\n\t\t\theader?.classList.add( 'mega-menu-open' );\n\t\t\tdocument.body.classList.add( 'mega-menu-open' );\n\n\t\t},\n\t\tcloseMenu( menuClosedOn = 'click' ) {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tstate.menuOpenedBy[ menuClosedOn ] = false;\n\t\t\tconst header = ref?.closest(\n\t\t\t\t'header'\n\t\t\t);\n\t\t\theader?.classList.remove( 'mega-menu-open' );\n\t\t\tdocument.body.classList.remove( 'mega-menu-open' );\n\n\t\t\t// Reset the menu reference and button focus when closed.\n\t\t\tif ( ! state.isMenuOpen ) {\n\t\t\t\tif (\n\t\t\t\t\tcontext.megaMenu?.contains( window.document.activeElement )\n\t\t\t\t) {\n\t\t\t\t\tcontext.previousFocus?.focus();\n\t\t\t\t}\n\t\t\t\tcontext.previousFocus = null;\n\t\t\t\tcontext.megaMenu = null;\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\tinitMenu() {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\n\t\t\t// Set the menu reference when initialized.\n\t\t\tif ( state.isMenuOpen ) {\n\t\t\t\tcontext.megaMenu = ref;\n\t\t\t}\n\t\t},\n\t},\n} );\n\n// TODO: Convert all the following to use the Interactivity API.\n// ----------------------------------------------------------------------------------------------- //\n\n// Get the root padding variables.\nconst bodyStyles = window.getComputedStyle( document.body );\nconst rootPaddingLeft = bodyStyles\n\t.getPropertyValue( '--wp--style--root--padding-left' )\n\t.trim();\nconst rootPaddingRight = bodyStyles\n\t.getPropertyValue( '--wp--style--root--padding-left' )\n\t.trim();\n\nfunction adjustMegaMenus() {\n\t// Convert the CSS variable value to pixels.\n\tconst rootPaddingLeftValue = convertCssValueToPixels( rootPaddingLeft );\n\tconst rootPaddingRightValue = convertCssValueToPixels( rootPaddingRight );\n\n\tdocument\n\t\t.querySelectorAll( '.wp-block-outermost-mega-menu__menu-container' )\n\t\t.forEach( ( menu ) => {\n\t\t\tconst navBlock = menu.closest( '.wp-block-navigation' );\n\t\t\tif ( ! navBlock ) return;\n\n\t\t\t// Determine the justification of the navigation block.\n\t\t\tlet justification = 'left';\n\n\t\t\tif (\n\t\t\t\tnavBlock.classList.contains( 'items-justified-center' ) ||\n\t\t\t\tnavBlock.classList.contains( 'items-justified-space-between' )\n\t\t\t) {\n\t\t\t\tjustification = 'center';\n\t\t\t} else if (\n\t\t\t\tnavBlock.classList.contains( 'items-justified-right' )\n\t\t\t) {\n\t\t\t\tjustification = 'right';\n\t\t\t}\n\n\t\t\t// TODO: Refactor\n\t\t\tif (\n\t\t\t\tmenu.classList.contains( 'menu-justified-center' )\n\t\t\t) {\n\t\t\t\tjustification = 'center';\n\t\t\t} else if (\n\t\t\t\tmenu.classList.contains( 'menu-justified-right' )\n\t\t\t) {\n\t\t\t\tjustification = 'right';\n\t\t\t} else if (\n\t\t\t\tmenu.classList.contains( 'menu-justified-left' )\n\t\t\t) {\n\t\t\t\tjustification = 'right';\n\t\t\t}\n\n\t\t\t// Get the window space and the native width of the mega menu.\n\t\t\tconst windowSpace =\n\t\t\t\twindow.innerWidth -\n\t\t\t\trootPaddingRightValue -\n\t\t\t\trootPaddingLeftValue;\n\t\t\tconst menuWidth = menu.offsetWidth;\n\t\t\tlet menuWidthSetting = 'none';\n\t\t\t\n\t\t\tif (\n\t\t\t\tmenu.classList.contains( 'menu-width-full' )\n\t\t\t) {\n\t\t\t\tmenuWidthSetting = 'full';\n\t\t\t} else if (\n\t\t\t\tmenu.classList.contains( 'menu-width-wide' )\n\t\t\t) {\n\t\t\t\tmenuWidthSetting = 'wide';\n\t\t\t}\n\n\t\t\t// Get the bounding rectangle of the navigation block containing the menu.\n\t\t\tconst menuRect = menu.getBoundingClientRect();\n\t\t\tconst navBlockRect = navBlock.getBoundingClientRect();\n\n\t\t\t// Assumes that the navigation block is always offset by the root padding.\n\t\t\tconst leftOffset =\n\t\t\t\tnavBlockRect.left <= rootPaddingLeftValue\n\t\t\t\t\t? rootPaddingLeftValue - navBlockRect.left\n\t\t\t\t\t: navBlockRect.left - rootPaddingLeftValue;\n\t\t\tconst leftSpace = ( windowSpace - menuWidth ) / 2;\n\n\t\t\tif ( justification === 'center' ) {\n\t\t\t\tif ( menuWidthSetting === 'none' && menuWidth > windowSpace ) {\n\t\t\t\t\tmenu.style.width = `${ windowSpace }px`;\n\t\t\t\t\tmenu.style.left = `-${ leftOffset }px`;\n\t\t\t\t} else if ( menuRect.left > 0 && leftSpace >= menuRect.left ) {\n\t\t\t\t\t// Do nothing, the menu is positioned with CSS and it looks fine.\n\t\t\t\t\tmenu.style.left = '';\n\t\t\t\t} else if ( leftOffset >= leftSpace ) {\n\t\t\t\t\t// Reset width.\n\t\t\t\t\tmenu.style.width = '';\n\t\t\t\t\tmenu.style.left = `-${ leftOffset - leftSpace }px`;\n\t\t\t\t} else {\n\t\t\t\t\tmenu.style.width = '';\n\t\t\t\t\tmenu.style.left = `${ leftSpace - leftOffset }px`;\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tjustification === 'left' ||\n\t\t\t\tjustification === 'right'\n\t\t\t) {\n\t\t\t\t// The left value doesn't need to change for left and right justifications.\n\t\t\t\tif ( menuWidthSetting === 'none' && menuWidth > windowSpace ) {\n\t\t\t\t\tmenu.style.width = `${ windowSpace }px`;\n\t\t\t\t\tmenu.style.left = `${ leftOffset }px`;\n\t\t\t\t} else {\n\t\t\t\t\tmenu.style.width = '';\n\n\t\t\t\t\t// Make sure the menu does not extend off the left-side of the screen.\n\t\t\t\t\tif ( menuRect.left <= 0 ) {\n\t\t\t\t\t\t// TODO: This is not correct when justified right in some scenarios.\n\t\t\t\t\t\tmenu.style.left = `${ leftOffset }px`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmenu.style.left = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n}\n\n// Adjust mega menu positions on window resize.\nwindow.addEventListener( 'resize', adjustMegaMenus );\n\n// // Initial adjustment on page load.\nif ( document.readyState === 'complete' ) {\n\tadjustMegaMenus();\n} else {\n\twindow.addEventListener( 'load', adjustMegaMenus );\n}\n\n// Function to convert a complex CSS value to pixels\nfunction convertCssValueToPixels( cssValue ) {\n\t// Create a temporary element\n\tconst tempElement = document.createElement( 'div' );\n\n\t// Apply the CSS value to the temporary element\n\t// For example, setting its width to the complex CSS value\n\ttempElement.style.width = cssValue;\n\n\t// Append the temporary element to the body to make it part of the document\n\tdocument.body.appendChild( tempElement );\n\n\t// Use getComputedStyle to get the computed width in pixels\n\tconst computedWidth = window.getComputedStyle( tempElement ).width;\n\n\t// Remove the temporary element from the document\n\tdocument.body.removeChild( tempElement );\n\n\t// Return the computed width as a number\n\treturn parseFloat( computedWidth );\n}\n"],"names":["store","getContext","getElement","state","actions","isMenuOpen","Object","values","menuOpenedBy","filter","Boolean","length","context","toggleMenuOnClick","ref","window","document","activeElement","focus","click","closeMenu","previousFocus","openMenu","closeMenuOnClick","handleMenuKeydown","event","key","handleMenuFocusout","menuContainer","megaMenu","querySelector","relatedTarget","contains","target","menuOpenedOn","header","closest","classList","add","body","menuClosedOn","remove","callbacks","initMenu","bodyStyles","getComputedStyle","rootPaddingLeft","getPropertyValue","trim","rootPaddingRight","adjustMegaMenus","rootPaddingLeftValue","convertCssValueToPixels","rootPaddingRightValue","querySelectorAll","forEach","menu","navBlock","justification","windowSpace","innerWidth","menuWidth","offsetWidth","menuWidthSetting","menuRect","getBoundingClientRect","navBlockRect","leftOffset","left","leftSpace","style","width","addEventListener","readyState","cssValue","tempElement","createElement","appendChild","computedWidth","removeChild","parseFloat"],"sourceRoot":""}