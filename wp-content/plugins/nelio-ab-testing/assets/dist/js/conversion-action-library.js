(()=>{var e={5571:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",d:"M68.338985406 14.8827550237C68.338985406 14.8827550237 113.117245695 59.6610153126 113.117245695 59.6610153126C115.521048126 62.0648177442 115.52104247 65.93518651 113.117245695 68.3389832847C113.117245695 68.3389832847 68.3389832847 113.117245695 68.3389832847 113.117245695C65.93518651 115.52104247 62.0648177442 115.521048126 59.6610153126 113.117245695C59.6610153126 113.117245695 14.8827550237 68.338985406 14.8827550237 68.338985406C12.478958249 65.9351886313 12.478958249 62.0648142086 14.8827550237 59.6610174339C14.8827550237 59.6610174339 59.6610174339 14.8827550237 59.6610174339 14.8827550237C62.0648142086 12.478958249 65.9351886313 12.478958249 68.338985406 14.8827550237C68.338985406 14.8827550237 68.338985406 14.8827550237 68.338985406 14.8827550237",style:{opacity:"1",strokeOpacity:"1",fillOpacity:"1",stroke:"none",strokeDasharray:"none",strokeMiterlimit:"4",strokeWidth:"32.581790506",fill:"#ffc304"},key:0}),o.createElement("path",{className:"white",d:"M49.17902 54.36989C49.17902 54.36989 49.17902 63.83118 49.17902 63.83118C49.17902 63.83118 49.17902 89.93014 49.17902 89.93014C49.17902 89.93014 58.63926 89.93014 58.63926 89.93014C58.63926 89.93014 58.63926 63.83118 58.63926 63.83118C58.63926 63.83118 76.90894 63.83118 76.90894 63.83118C76.90894 63.83118 76.90894 54.36989 76.90894 54.36989C76.90894 54.36989 58.63926 54.36989 58.63926 54.36989C58.63926 54.36989 49.17902 54.36989 49.17902 54.36989",style:{fill:"#ffffff"},key:1}),o.createElement("path",{className:"white",d:"M73.552808 71.128935C73.552808 71.128935 73.552808 47.072458 73.552808 47.072458C73.552808 47.072458 94.386328 59.100697 94.386328 59.100697C94.386328 59.100697 73.552808 71.128935 73.552808 71.128935",style:{fill:"#ffffff"},key:2})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},9160:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,o.createElement("path",{className:"black",d:"M102.57684 53.7927C102.57684 53.7927 26.483878 24.5393 26.483878 24.5393C25.921804 24.3264 25.283153 24.4542 24.848826 24.88848C24.848826 24.88848 24.815016 24.92258 24.815016 24.92258C24.389188 25.34839 24.252942 25.98711 24.465856 26.5577C24.465856 26.5577 53.71925 102.65069 53.71925 102.65069C53.940662 103.23823 54.502738 103.62146 55.124392 103.63005C55.746138 103.63805 56.31671 103.26377 56.55512 102.68467C56.55512 102.68467 65.846399 80.355 65.846399 80.355C65.846399 80.355 79.361691 93.87033 79.361691 93.87033C80.230435 94.73898 81.644075 94.73898 82.512734 93.87033C85.621188 90.76188 90.679865 85.70331 93.788328 82.59486C94.65698 81.7262 94.65698 80.31241 93.788328 79.44384C93.788328 79.44384 80.290015 65.92852 80.290015 65.92852C80.290015 65.92852 102.6197 56.63717 102.6197 56.63717C103.19876 56.39872 103.57342 55.82813 103.56502 55.20644C103.56502 55.20644 103.56502 55.20644 103.56502 55.20644C103.54772 54.57615 103.15619 54.01409 102.57711 53.79274C102.57711 53.79274 102.57684 53.7927 102.57684 53.7927",style:{fill:"#34a3d3"}}))}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},3126:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,o.createElement("path",{className:"black",d:"M 68.856386,26.466047 48.253955,98.416123 59.143693,101.53394 79.746124,29.583871 Z M 42.004196,41.664649 27.682639,55.986216 19.670267,63.998578 27.679823,72.01094 42.004196,86.332497 50.016558,78.32294 35.692186,63.998578 50.013721,49.674206 Z m 43.991634,0 -8.009567,8.009567 14.321535,14.324373 -14.324372,14.324372 8.012351,8.009568 14.324393,-14.321546 8.00957,-8.012352 -8.01235,-8.012351 z",style:{fill:"#70ad54"}}))}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},6166:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",d:"M11.8 19.2a3.2 3.2 0 0 0-3.2 3.1c0 1.8 1.5 3.2 3.2 3.2h5.7c2.6 0 2.9 2.2 3 2.4l3 16 .2.6 7.6 39.4c0 .2.6 7.5 9.1 7.5h58.4c8.6 0 8.9-6.3 9.1-7.5l7.5-38v-.7s0-4-1.3-5.6c-1.3-1.6-5.2-2.4-5.2-2.4H29.4l-.6-.4a.9.9 0 0 1-.3-.4l-1.9-9.7c0-.2-1-7.5-9.1-7.5h-4.7zm40.3 76a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15zm35.1 0a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15z",fill:"#2a508d",key:0}),o.createElement("path",{className:"white",d:"M60.4 59.3 53 66.6l9.9 10 7.3 7.3 7.4-7.4 9.9-9.9-7.4-7.3-9.9 9.8Z",fill:"#fff",key:1}),o.createElement("path",{className:"white",opacity:"1",fill:"#fff",strokeWidth:"1.1",strokeLinecap:"round",d:"M65.7 45.3H74.8V70.9H65.7z",key:2})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},3441:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M45.04341 27.7554C45.04341 27.7554 109.98671 27.7554 109.98671 27.7554C109.98671 27.7554 109.9868 27.75542 109.9868 27.75545C109.9868 27.75545 109.9868 45.12046 109.9868 45.12046C109.9868 45.12047 109.98671 45.12049 109.98671 45.12049C109.98671 45.12049 45.04341 45.12049 45.04341 45.12049C45.04341 45.12049 45.043319 45.12047 45.043319 45.12046C45.043319 45.12046 45.043319 27.75545 45.043319 27.75545C45.043319 27.75542 45.04341 27.7554 45.04341 27.7554C45.04341 27.7554 45.04341 27.7554 45.04341 27.7554",key:0}),o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M45.04341 55.35186C45.04341 55.35186 109.98671 55.35186 109.98671 55.35186C109.98671 55.35186 109.9868 55.35187 109.9868 55.3519C109.9868 55.3519 109.9868 72.71692 109.9868 72.71692C109.9868 72.71692 109.98671 72.71692 109.98671 72.71692C109.98671 72.71692 45.04341 72.71692 45.04341 72.71692C45.04341 72.71692 45.043319 72.71692 45.043319 72.71692C45.043319 72.71692 45.043319 55.3519 45.043319 55.3519C45.043319 55.35187 45.04341 55.35186 45.04341 55.35186C45.04341 55.35186 45.04341 55.35186 45.04341 55.35186",key:1}),o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M45.04341 82.94829C45.04341 82.94829 109.98671 82.94829 109.98671 82.94829C109.98671 82.94829 109.9868 82.94829 109.9868 82.9484C109.9868 82.9484 109.9868 100.3134 109.9868 100.3134C109.9868 100.3134 109.98671 100.3134 109.98671 100.3134C109.98671 100.3134 45.04341 100.3134 45.04341 100.3134C45.04341 100.3134 45.043319 100.3134 45.043319 100.3134C45.043319 100.3134 45.043319 82.9484 45.043319 82.9484C45.043319 82.94829 45.04341 82.94829 45.04341 82.94829C45.04341 82.94829 45.04341 82.94829 45.04341 82.94829",key:2}),o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M17.944469 27.75538C17.944469 27.75538 35.309671 27.75538 35.309671 27.75538C35.309671 27.75538 35.309763 27.75538 35.309763 27.75545C35.309763 27.75545 35.309763 45.12044 35.309763 45.12044C35.309763 45.12044 35.309671 45.12044 35.309671 45.12044C35.309671 45.12044 17.944469 45.12044 17.944469 45.12044C17.944469 45.12044 17.944469 45.12044 17.944469 45.12044C17.944469 45.12044 17.944469 27.75545 17.944469 27.75545C17.944469 27.75538 17.944469 27.75538 17.944469 27.75538C17.944469 27.75538 17.944469 27.75538 17.944469 27.75538",key:3}),o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M17.944469 55.35162C17.944469 55.35162 35.309671 55.35162 35.309671 55.35162C35.309671 55.35162 35.309763 55.35162 35.309763 55.35162C35.309763 55.35162 35.309763 72.71674 35.309763 72.71674C35.309763 72.71674 35.309671 72.71674 35.309671 72.71674C35.309671 72.71674 17.944469 72.71674 17.944469 72.71674C17.944469 72.71674 17.944469 72.71674 17.944469 72.71674C17.944469 72.71674 17.944469 55.35162 17.944469 55.35162C17.944469 55.35162 17.944469 55.35162 17.944469 55.35162C17.944469 55.35162 17.944469 55.35162 17.944469 55.35162",key:4}),o.createElement("path",{className:"black",style:{fill:"#598b0e"},d:"M17.944469 82.94817C17.944469 82.94817 35.309671 82.94817 35.309671 82.94817C35.309671 82.94817 35.309763 82.94817 35.309763 82.94828C35.309763 82.94828 35.309763 100.3134 35.309763 100.3134C35.309763 100.3134 35.309671 100.3134 35.309671 100.3134C35.309671 100.3134 17.944469 100.3134 17.944469 100.3134C17.944469 100.3134 17.944469 100.3134 17.944469 100.3134C17.944469 100.3134 17.944469 82.94828 17.944469 82.94828C17.944469 82.94817 17.944469 82.94817 17.944469 82.94817C17.944469 82.94817 17.944469 82.94817 17.944469 82.94817",key:5})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},8047:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"grey",style:{fill:"#f6a097"},d:"M70.903794 45.53263C70.903794 45.53263 70.903794 20.09287 70.903794 20.09287C70.903794 20.09287 96.343753 45.53263 96.343753 45.53263C96.343753 45.53263 70.903794 45.53263 70.903794 45.53263",key:0}),o.createElement("path",{className:"black",style:{fill:"#ef5848"},d:"M31.587604 20.09287C31.587604 20.09287 71.104189 20.09287 71.104189 20.09287C71.104189 20.09287 71.104189 45.33231 71.104189 45.33231C71.104189 45.33231 96.343753 45.33231 96.343753 45.33231C96.343753 45.33231 96.343753 107.97597 96.343753 107.97597C96.343753 107.97597 31.587604 107.97597 31.587604 107.97597C31.587604 107.97597 31.587604 20.09287 31.587604 20.09287",key:1})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},4003:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",d:"m 51.034777,98.770398 c -12.90535,-0.38706 -20.99277,-0.95153 -25.04661,-1.74814 -2.336807,-0.4592 -4.857707,-1.80161 -6.537257,-3.48115 -2.86011,-2.86011 -3.87123,-6.15731 -4.66821,-15.22277 -1.26283,-14.36424 -0.34905,-33.63668 1.87702,-39.58811 1.1779,-3.14912 4.37799,-6.19188 7.643067,-7.2673 8.82628,-2.90712 67.2671,-3.05188 78.440113,-0.1943 2.41674,0.61809 3.8418,1.44166 5.70397,3.29643 1.94767,1.93993 2.69675,3.23702 3.39205,5.87359 2.60057,9.86145 2.60157,37.04358 0.002,47.29319 -0.63466,2.50208 -1.45328,3.94336 -3.30502,5.81888 -3.06057,3.09986 -5.70726,3.86756 -15.691543,4.5515 -6.6976,0.45879 -12.62052,0.61272 -25.82628,0.6712 -7.61144,0.0337 -14.80381,0.0324 -15.98305,-0.003 z",style:{fill:"#ff0000"},key:0}),o.createElement("path",{className:"white",d:"m 53.691558,78.915438 v -30.1017 l 26.305085,15.18644 z",style:{fill:"#ffffff"},key:1})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},6687:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",d:"m 11.796875,19.171875 c -1.734587,-5e-6 -3.1542969,1.419708 -3.1542969,3.154297 0,1.734599 1.4197099,3.152344 3.1542969,3.152344 h 0.01172 1.039062 4.625 c 2.583598,0 2.912868,2.244066 2.947266,2.414062 l 3.132812,15.955078 c 0.03427,0.170316 0.09123,0.446883 0.125,0.617188 0,0 5.727539,29.590487 7.650391,39.451172 0.03315,0.170315 0.58192,7.49414 9.115234,7.49414 h 58.353516 c 8.619975,0 8.892265,-6.301362 9.117185,-7.49414 1.797,-9.537113 7.51172,-38.089844 7.51172,-38.089844 0.0331,-0.170303 0.056,-0.449896 0.0527,-0.623047 -6.9e-4,-3.07e-4 -0.0807,-3.978133 -1.39454,-5.576172 h -0.002 c -1.31355,-1.598028 -5.19922,-2.447266 -5.19922,-2.447265 -0.16935,-0.03724 -0.44926,-0.06869 -0.62304,-0.06836 l -78.214848,0.02539 c -0.173447,0 -0.455327,0.02368 -0.626953,0.05078 l -0.609375,-0.345703 c -0.145318,-0.09431 -0.294077,-0.312437 -0.328125,-0.482422 l -1.876953,-9.707031 c -0.03415,-0.170316 -0.949235,-7.480469 -9.13086,-7.480469 h -4.625 z m 40.333984,75.988281 c -4.101848,0 -7.439453,3.335873 -7.439453,7.437504 0,4.10163 3.337809,7.43945 7.439453,7.43945 4.101643,0 7.4375,-3.33782 7.4375,-7.43945 0,-4.101631 -3.335857,-7.437504 -7.4375,-7.437504 z m 35.074219,0 c -4.101644,0 -7.439453,3.335873 -7.439453,7.437504 0,4.10163 3.338116,7.43945 7.439453,7.43945 4.102268,0 7.439453,-3.33782 7.439453,-7.43945 0,-4.101631 -3.337185,-7.437504 -7.439453,-7.437504 z",style:{fill:"#2a508d"},key:0}),o.createElement("path",{className:"white",d:"M 64.607421,46.311523 V 58.72168 H 52.195312 V 69.15332 H 64.607421 V 81.56543 H 75.039062 V 69.15332 H 87.449218 V 58.72168 H 75.039062 V 46.311523 Z",style:{fill:"#ffffff"},key:1})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},3715:(e,t,n)=>{var o=n(1609);function r(e){return o.createElement("svg",e,[o.createElement("path",{className:"black",d:"m 11.796875,19.171875 c -1.734587,-5e-6 -3.1542969,1.419708 -3.1542969,3.154297 0,1.734599 1.4197099,3.152344 3.1542969,3.152344 h 0.01172 1.039062 4.625 c 2.583598,0 2.912868,2.244066 2.947266,2.414062 l 3.132812,15.955078 c 0.03427,0.170316 0.09123,0.446883 0.125,0.617188 0,0 5.727539,29.590487 7.650391,39.451172 0.03315,0.170315 0.58192,7.49414 9.115234,7.49414 h 58.353516 c 8.619975,0 8.892265,-6.301362 9.117185,-7.49414 1.797,-9.537113 7.51172,-38.089844 7.51172,-38.089844 0.0331,-0.170303 0.056,-0.449896 0.0527,-0.623047 -6.9e-4,-3.07e-4 -0.0807,-3.978133 -1.39454,-5.576172 h -0.002 c -1.31355,-1.598028 -5.19922,-2.447266 -5.19922,-2.447265 -0.16935,-0.03724 -0.44926,-0.06869 -0.62304,-0.06836 l -78.214848,0.02539 c -0.173447,0 -0.455327,0.02368 -0.626953,0.05078 l -0.609375,-0.345703 c -0.145318,-0.09431 -0.294077,-0.312437 -0.328125,-0.482422 l -1.876953,-9.707031 c -0.03415,-0.170316 -0.949235,-7.480469 -9.13086,-7.480469 h -4.625 z m 40.333984,75.988281 c -4.101848,0 -7.439453,3.335873 -7.439453,7.437504 0,4.10163 3.337809,7.43945 7.439453,7.43945 4.101643,0 7.4375,-3.33782 7.4375,-7.43945 0,-4.101631 -3.335857,-7.437504 -7.4375,-7.437504 z m 35.074219,0 c -4.101644,0 -7.439453,3.335873 -7.439453,7.437504 0,4.10163 3.338116,7.43945 7.439453,7.43945 4.102268,0 7.439453,-3.33782 7.439453,-7.43945 0,-4.101631 -3.337185,-7.437504 -7.439453,-7.437504 z",style:{fill:"#2a508d"},key:0}),o.createElement("path",{className:"white",d:"m 83.540413,47.786888 -17.551992,17.551993 -9.882922,-9.882923 -7.376283,7.376284 9.882922,9.882922 7.374902,7.374902 7.376284,-7.376283 17.551992,-17.551993 z",style:{fill:"#ffffff"},key:1})])}r.defaultProps={viewBox:"0 0 128 128"},e.exports=r,r.default=r},1609:e=>{"use strict";e.exports=window.React},6942:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{conversionActionLibrary:()=>d});var e={};n.r(e),n.d(e,{name:()=>V,settings:()=>D});var t={};n.r(t),n.d(t,{name:()=>Y,settings:()=>Z});var r={};n.r(r),n.d(r,{name:()=>X,settings:()=>ee});var a={};n.r(a),n.d(a,{name:()=>Fe,settings:()=>Ne});var i={};n.r(i),n.d(i,{name:()=>He,settings:()=>Ye});var s={};n.r(s),n.d(s,{name:()=>mt,settings:()=>pt});var l={};n.r(l),n.d(l,{name:()=>Yt,settings:()=>Zt});var c={};n.r(c),n.d(c,{name:()=>nn,settings:()=>on});var u={};n.r(u),n.d(u,{name:()=>cn,settings:()=>un});var d={};n.r(d),n.d(d,{registerCoreConversionActions:()=>dn});const m=window.nab.conversionActions,p=window.wp.i18n;var f=n(9160),v=n.n(f);const g=window.wp.element,b=window.wp.components,x=window.wp.compose,y=window.wp.data;var h=n(6942),E=n.n(h);const _=window.nab.components,w=window.nab.data;var C="nab/editor",S=function(e){var t=e.attributes,n=t.mode,o=t.value,r=e.scope,a=e.errors,i=e.experimentId,s=e.setAttributes,l=e.setScope,c=(0,x.useInstanceId)(S),u=I(),d=A(c),m=d[0],f=d[1],v=T(),h=(0,y.useDispatch)(C).saveExperiment,w="nab-click-action__value-".concat(c);return g.createElement(g.Fragment,null,g.createElement(b.SelectControl,{label:(0,p._x)("Matching Mode","text","nelio-ab-testing"),options:O,value:n,onChange:function(e){return s({mode:e})}}),g.createElement(b.BaseControl,{id:w,className:E()({"nab-conversion-action__field--has-errors":a.value}),label:k[n],help:g.createElement(_.ErrorText,{value:a.value})},g.createElement("div",{className:"nab-click-conversion-action"},g.createElement(b.TextControl,{id:w,className:"nab-click-conversion-action__value",value:o,onChange:function(e){return s({value:e})}}),g.createElement(b.Button,{variant:"secondary",className:"nab-click-conversion-action__button",onClick:function(){h().then((function(){return f(!0)}))}},(0,p._x)("Explore","command","nelio-ab-testing")),m&&g.createElement(_.CssSelectorFinder,{initialUrl:v,experimentId:i,alternatives:u,initialValue:o,initialMode:n,onAccept:function(e,t){return s({mode:e,value:t})},onClose:function(){return f(!1)}}))),g.createElement(_.ConversionActionScope,{scope:r,setScope:l,error:a._scope}))},I=function(){return(0,y.useSelect)((function(e){var t;return(null===(t=e(C))||void 0===t?void 0:t.getAlternatives())||[]}))},A=function(e){e="".concat(e);var t=(0,w.usePageAttribute)("css-selector/openedCssSelectorFinderId",""),n=t[0],o=t[1];return[n===e,function(t){return o(t?e:"")}]},T=function(){return(0,y.useSelect)((function(e){var t=(0,e(w.STORE_NAME).getPluginSetting)("homeUrl");if(!e(C))return t;var n=(0,e(C).getAlternative)("control");if(!P(n))return t;var o=n.attributes,r=o.postType,a=o.postId;if(!r||!a)return t;var i=(0,e(w.STORE_NAME).getEntityRecord)(r,a);return(null==i?void 0:i.link)||t}))},k={id:(0,p._x)("Element ID","text","nelio-ab-testing"),class:(0,p._x)("CSS Class","text","nelio-ab-testing"),css:(0,p._x)("CSS Selector","text","nelio-ab-testing")},O=Object.keys(k).map((function(e){return e})).map((function(e){return{value:e,label:k[e]}})),P=function(e){var t,n;return!!(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.postType)&&!!(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.postId)},F=n(1609);function N(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function $(e,t){let n,o,r=[];for(let a=0;a<e.length;a++){const i=e[a];if("string"!==i.type){if(void 0===t[i.value])throw new Error(`Invalid interpolation, missing component node: \`${i.value}\``);if("object"!=typeof t[i.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${i.value}\``);if("componentClose"===i.type)throw new Error(`Missing opening component token: \`${i.value}\``);if("componentOpen"===i.type){n=t[i.value],o=a;break}r.push(t[i.value])}else r.push(i.value)}if(n){const a=function(e,t){const n=t[e];let o=0;for(let r=e+1;r<t.length;r++){const e=t[r];if(e.value===n.value){if("componentOpen"===e.type){o++;continue}if("componentClose"===e.type){if(0===o)return r;o--}}}throw new Error("Missing closing component token `"+n.value+"`")}(o,e),i=$(e.slice(o+1,a),t),s=(0,F.cloneElement)(n,{},i);if(r.push(s),a<e.length-1){const n=$(e.slice(a+1),t);r=r.concat(n)}}return r=r.filter(Boolean),0===r.length?null:1===r.length?r[0]:(0,F.createElement)(F.Fragment,null,...r)}function R(e){const{mixedString:t,components:n,throwErrors:o}=e;if(!n)return t;if("object"!=typeof n){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const r=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(N)}(t);try{return $(r,n)}catch(e){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}var M=function(){return M=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},M.apply(this,arguments)},j=function(e){var t=e.attributes,n=t.mode,o=t.value;if(!o)return g.createElement(g.Fragment,null,(0,p._x)("A visitor clicks on an HTML element.","text","nelio-ab-testing"));switch(n){case"css":return g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: a CSS selector, such as "a.button" */ /* translators: a CSS selector, such as "a.button" */
(0,p._x)("A visitor clicks on an element matching the CSS selector %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}));case"id":return g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: an HTML id, such as "content" */ /* translators: an HTML id, such as "content" */
(0,p._x)("A visitor clicks on the %s element","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}));case"class":return g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: an HTML id, such as "content" */ /* translators: an HTML id, such as "content" */
(0,p._x)("A visitor clicks on an element with class %s","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}))}},L=document.createElement("br"),V="nab/click",D={name:V,title:(0,p._x)("Click","text","nelio-ab-testing"),description:(0,p._x)("Counts a click as a conversion.","text","nelio-ab-testing"),icon:v(),validate:function(e){var t=e.mode,n=e.value;if(!n)switch(t){case"css":return{value:(0,p._x)("Please write a CSS selector that matches the elements you want to track","user","nelio-ab-testing")};case"id":return{value:(0,p._x)("Please write the ID of the element you want to track","user","nelio-ab-testing")};case"class":return{value:(0,p._x)("Please write a class name of the element you want to track","user","nelio-ab-testing")}}switch(t){case"css":return function(e){try{L.querySelector(e)}catch(e){return{value:(0,p._x)("Please use a valid CSS selector. For instance, you can use a tag name such as “a” or “div,” a class selector such as “.some-class,” or more complex rules such as “section.content button.subscribe”","user","nelio-ab-testing")}}return{}}(n);case"id":return function(e){return/^#[a-zA-Z0-9-_]+$/.test(e)?{value:(0,p._x)("The ID of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}:/^[a-zA-Z0-9-_]+$/.test(e)?{}:{value:(0,p._x)("The ID of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}}(n);case"class":return function(e){return/^\.[a-zA-Z0-9-_]+$/.test(e)?{value:(0,p._x)("A class name of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}:/^[a-zA-Z0-9-_]+$/.test(e)?{}:{value:(0,p._x)("A class name of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}}(n)}},attributes:{mode:"css",value:""},scope:{type:"test-scope"},edit:S,view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(j,M({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},U=n(5571),B=n.n(U),z=function(){return z=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},z.apply(this,arguments)},W=function(e){var t=e.attributes,n=t.mode,o=t.value;return g.createElement(g.Fragment,null,!o&&(0,p._x)("A visitor clicks on a link.","text","nelio-ab-testing"),o&&"partial"===n&&R({mixedString:(0,p.sprintf)(/* translators: some text that might appear in a URL, such as "wordpress", or "amazon", or "nelio" */ /* translators: some text that might appear in a URL, such as "wordpress", or "amazon", or "nelio" */
(0,p._x)("A visitor clicks on a link whose URL contains this fragment: %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}),o&&"start"===n&&R({mixedString:(0,p.sprintf)(/* translators: a URL fragment, such as "https://nelio" */ /* translators: a URL fragment, such as "https://nelio" */
(0,p._x)("A visitor clicks on a link whose URL starts with %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}),o&&"end"===n&&R({mixedString:(0,p.sprintf)(/* translators: a URL fragment, such as "neliosoftware.com/blog/" */ /* translators: a URL fragment, such as "neliosoftware.com/blog/" */
(0,p._x)("A visitor clicks on a link whose URL ends with %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}),o&&!["partial","start","end"].includes(n)&&R({mixedString:(0,p.sprintf)(/* translators: a URL such as "https://wordpress.org" */ /* translators: a URL such as "https://wordpress.org" */
(0,p._x)("A visitor clicks on a link with the URL %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}}))};const H=window.nab.utils;var Y="nab/click-external-link",Z={name:Y,title:(0,p._x)("Click external link","text","nelio-ab-testing"),description:(0,p._x)("Counts a click to an external link as a conversion.","text","nelio-ab-testing"),icon:B(),validate:function(e){var t=e.mode,n=e.value;if(!n)return{value:(0,p._x)("Please write the expected value","user","nelio-ab-testing")};if("regex"===t){var o=(0,H.isRegExpInvalid)(n);return o?{value:o}:{}}var r=(0,H.isUrlFragmentInvalid)(n);return r?{value:r}:{}},attributes:{mode:"exact",value:""},scope:{type:"test-scope"},edit:function(e){var t=e.attributes,n=t.mode,o=t.value,r=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope;return g.createElement(g.Fragment,null,g.createElement(b.SelectControl,{label:(0,p._x)("URL Matching Mode","text","nelio-ab-testing"),options:[{value:"exact",label:(0,p._x)("URL exactly matches the expected value","text","nelio-ab-testing")},{value:"partial",label:(0,p._x)("URL contains the expected value","text","nelio-ab-testing")},{value:"start",label:(0,p._x)("URL starts with the expected value","text","nelio-ab-testing")},{value:"end",label:(0,p._x)("URL ends with the expected value","text","nelio-ab-testing")},{value:"regex",label:(0,p._x)("JavaScript Regular Expression","text","nelio-ab-testing")}],value:n,onChange:function(e){return i({mode:e})}}),g.createElement(b.TextControl,{className:E()({"nab-conversion-action__field--has-errors":a.value}),label:(0,p._x)("Expected Value","text","nelio-ab-testing"),value:o,help:g.createElement(_.ErrorText,{value:a.value}),placeholder:(0,p._x)("URL","text","nelio-ab-testing"),onChange:function(e){return i({value:e})}}),g.createElement(_.ConversionActionScope,{scope:r,setScope:s,error:a._scope}))},view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(W,z({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},J=n(3126),K=n.n(J);const Q=window.lodash;var q=function(){return q=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},q.apply(this,arguments)},G=function(e){var t=e.attributes.eventName,n=e.experimentId,o=e.goalIndex;if(!n||void 0===o)return g.createElement(g.Fragment,null,(0,p._x)("A conversion is programmatically sent to Nelio’s cloud via JavaScript.","text","nelio-ab-testing"));var r,a=(0,Q.trim)(t)?"nab.{{wbr /}}trigger({{wbr /}}'".concat((0,Q.trim)(t),"')"):"nab.{{wbr /}}convert({{wbr /}}".concat(n,",{{wbr /}}").concat(o,")");
/* translators: a javascript snippet */
return r=(0,Q.trim)(t)?(0,p._x)("A custom JavaScript event is triggered using %s.","text","nelio-ab-testing"):(0,p._x)("A conversion is programmatically generated in JavaScript using %s.","text","nelio-ab-testing"),g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(r,"{{code}}".concat(a,"{{/code}}")),components:{code:g.createElement("code",null),wbr:g.createElement("wbr",null)}}))},X="nab/custom-event",ee={name:X,title:(0,p._x)("Custom event","text","nelio-ab-testing"),description:(0,p._x)("Counts the submission of a custom JS event as a conversion.","text","nelio-ab-testing"),icon:K(),attributes:{eventName:""},scope:{type:"test-scope"},edit:function(e){var t=e.attributes.eventName,n=e.scope,o=e.errors,r=e.experimentId,a=e.goalIndex,i=e.setAttributes,s=e.setScope,l=(0,Q.trim)(t)?"nab.{{wbr /}}trigger({{wbr /}}'".concat((0,Q.trim)(t),"')"):"nab.{{wbr /}}convert({{wbr /}}".concat(r,",{{wbr /}}").concat(a,")");return g.createElement(g.Fragment,null,g.createElement("p",null,(0,p._x)("You can programmatically generate a conversion using the following JavaScript snippet whenever you want:","user","nelio-ab-testing")),g.createElement("pre",null,'<script type="text/javascript">\n  ',R({mixedString:l,components:{wbr:g.createElement("wbr",null)}}),";\n<\/script>"),g.createElement("p",null,R({mixedString:(0,p.sprintf)(/* translators: a JavaScript snippet */ /* translators: a JavaScript snippet */
(0,p._x)("If you want a single custom event to trigger a conversion in several goals or different tests, please name the event and use %s instead:","user","nelio-ab-testing"),"{{code}}nab.trigger{{/code}}"),components:{code:g.createElement("code",null)}})),g.createElement(b.TextControl,{label:(0,p._x)("Custom Event Name","text","nelio-ab-testing"),placeholder:(0,p._x)("(optional)","text","nelio-ab-testing"),value:t||"",onChange:function(e){return i({eventName:e})}}),g.createElement(_.ConversionActionScope,{scope:n,setScope:s,error:o._scope}))},view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(G,q({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},te=n(6166),ne=n.n(te),oe=function(e){var t=e.attributes,n=e.setAttributes,o=e.errors,r=(0,x.useInstanceId)(oe),a=t.value,i="some-downloads"===a.type&&"download-ids"===a.value.type&&a.value.downloadIds[0]||0,s=function(e){return n({type:"download-selection",value:e})};return(0,g.useEffect)((function(){"download-selection"!==t.type&&s(a)}),[]),g.createElement(g.Fragment,null,g.createElement(b.ToggleControl,{label:(0,p._x)("Track conversion if the order contains a specific download.","command","nelio-ab-testing"),checked:"some-downloads"===a.type,onChange:function(e){return s(e?ie:ae)}}),"some-downloads"===a.type&&"download-ids"===a.value.type&&g.createElement(b.BaseControl,{id:"nab-conversion-action__edd-add-to-cart-".concat(r),className:E()({"nab-conversion-action__field--has-errors":o.type}),label:g.createElement(re,{downloadId:i}),help:g.createElement(_.ErrorText,{value:o.type})},g.createElement(_.PostSearcher,{id:"nab-conversion-action__edd-add-to-cart-".concat(r),type:"download",perPage:10,value:i,onChange:function(e){return s({type:"some-downloads",value:{type:"download-ids",mode:"and",downloadIds:e?[e]:[]}})}})))},re=function(e){var t=e.downloadId,n=se(t);return n?g.createElement("span",null,R({mixedString:(0,p._x)("Download ({{a}}View{{/a}})","text","nelio-ab-testing"),components:{a:g.createElement(b.ExternalLink,{href:n})}})):g.createElement("span",null,(0,p._x)("Download","text","nelio-ab-testing"))},ae={type:"all-downloads"},ie={type:"some-downloads",value:{type:"download-ids",mode:"and",downloadIds:[]}},se=function(e){return(0,y.useSelect)((function(t){var n;return null===(n=t(w.STORE_NAME).getEntityRecord("download",e))||void 0===n?void 0:n.link}))};const le=window.wp.coreData;var ce,ue=function(){return ue=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ue.apply(this,arguments)},de=null!==(ce=null===le.store||void 0===le.store?void 0:le.store.name)&&void 0!==ce?ce:"core",me=function(e){var t=e.status,n=Ee(t);return"complete"===t?g.createElement(g.Fragment,null,(0,p._x)("An order is completed.","text","nelio-ab-testing")):be((0,p.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,p._x)("The status of an order is set to %s.","text","nelio-ab-testing"),xe(n)))},pe=function(e){var t=e.selection,n=e.status;switch(t.type){case"download-ids":return g.createElement(fe,{selection:t,status:n});case"download-taxonomies":return g.createElement(ve,{selection:t,status:n})}},fe=function(e){var t=e.selection,n=e.status,o=t.downloadIds,r=t.mode,a=t.excluded,i=void 0!==a&&a,s=xe(Ee(n)),l=(0,Q.map)(_e(o),ye);switch(l.length){case 0:return be((0,p.sprintf)(Se,s));case 1:return be((0,p.sprintf)(i?Ie.singleExcluded:Ie.singleIncluded,s,l[0]));default:return be((0,p.sprintf)(i?Ie.multipleExcluded:Ie.multipleIncluded,s,(0,H.listify)(r,l)))}},ve=function(e){var t=e.selection,n=e.status,o=xe(Ee(n)),r=t.value.filter((function(e){return!!e.termIds.length})),a=(0,Q.find)(r,{taxonomy:"download_category"}),i=(0,Q.map)(Ce(null==a?void 0:a.taxonomy,null==a?void 0:a.termIds),ye),s=(0,Q.find)(r,{taxonomy:"download_tag"}),l=(0,Q.map)(Ce(null==s?void 0:s.taxonomy,null==s?void 0:s.termIds),ye);if(!(0,H.hasHead)(r))return be((0,p.sprintf)(Se,o));if((0,H.isSingleton)(r)&&(a||s)){var c=i||l||[],u=(null==a?void 0:a.mode)||(null==s?void 0:s.mode)||"or",d=!!(null==a?void 0:a.excluded)||!!(null==s?void 0:s.excluded)||!1,m=a?Ae:ke;return(0,H.isSingleton)(c)?be((0,p.sprintf)(d?m.singleExcluded:m.singleIncluded,o,c[0])):be((0,p.sprintf)(d?m.multipleExcluded:m.multipleIncluded,o,(0,H.listify)(u,c)))}if(2===r.length&&a&&s)return be((0,p.sprintf)(/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */ /* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */
(0,p._x)("The status of an order is set to %1$s and said order has at least one download in category %2$s and is tagged as %3$s.","text","nelio-ab-testing"),o,(0,H.listify)(a.mode,i),(0,H.listify)(s.mode,l)));var f=(0,Q.reverse)(r),v=f[0],b=f.slice(1),x=(0,Q.reverse)(b);return g.createElement(g.Fragment,null,be((0,p.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,p._x)("The status of an order is set to %s and said order has at least one download that","text","nelio-ab-testing"),o)),x.map((function(e){return g.createElement(g.Fragment,null,g.createElement(ge,{key:e.taxonomy,selection:e,status:n}),1===x.length?"":"; ")})),(0,H.isSingleton)(r)?"":Pe,g.createElement(ge,{selection:v,status:n}),".")},ge=function(e){var t=e.selection,n=t.taxonomy,o=t.mode,r=t.termIds,a=t.excluded,i=xe(we(n)),s=(0,Q.map)(Ce(n,r),ye);return be((0,p.sprintf)(a?Oe.excluded:Oe.included,i,(0,H.listify)(o,s)))},be=function(e){return R({mixedString:e,components:{em:g.createElement("em",null),strong:g.createElement("strong",null)}})},xe=function(e){return"{{em}}".concat(e,"{{/em}}")},ye=function(e){return"{{strong}}".concat(e,"{{/strong}}")},he=document.createElement("div"),Ee=function(e){return(0,y.useSelect)((function(t){var n,o;return null!==(o=null===(n=(0,Q.find)(t(w.STORE_NAME).getECommerceSetting("edd","orderStatuses"),{value:e}))||void 0===n?void 0:n.label)&&void 0!==o?o:e}))},_e=function(e){return(0,y.useSelect)((function(t){return e.map((function(e){var n;return(0,Q.trim)(null===(n=t(w.STORE_NAME).getEntityRecord("download",e))||void 0===n?void 0:n.title)||(0,p.sprintf)(/* translators: product id */ /* translators: product id */
(0,p._x)("Download #%d","text","nelio-ab-testing"),e)}))}))},we=function(e){return(0,y.useSelect)((function(t){var n,o;return null!==(o=null===(n=t(de).getTaxonomy(e))||void 0===n?void 0:n.labels.singular_name)&&void 0!==o?o:e}))},Ce=function(e,t){return void 0===t&&(t=[]),(0,y.useSelect)((function(n){return n(de),e&&t?t.map((function(t){var o;return function(e){var t;return he.innerHTML=e,null!==(t=he.textContent)&&void 0!==t?t:e}((null===(o=n(de).getEntityRecord("taxonomy",e,t))||void 0===o?void 0:o.name)||"#".concat(t))})):[]}))},Se=(0,p._x)("The status of an order is set to %s.","text","nelio-ab-testing"),Ie={
/* translators: 1 -> woocomerce status, 2 -> download name */
singleExcluded:(0,p._x)("The status of an order not containing download %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> download name */
singleIncluded:(0,p._x)("The status of an order containing the download %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of download names */
multipleExcluded:(0,p._x)("The status of an order not containing any of the downloads %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of download names */
multipleIncluded:(0,p._x)("The status of an order containing downloads %2$s is set to %1$s.","text","nelio-ab-testing")},Ae={
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleExcluded:(0,p._x)("The status of an order not containing any download in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleIncluded:(0,p._x)("The status of an order containing at least one download in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleExcluded:(0,p._x)("The status of an order not containing any downloads in categories %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleIncluded:(0,p._x)("The status of an order containing at least one download in categories %2$s is set to %1$s.","text","nelio-ab-testing")},Te={
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleExcluded:(0,p._x)("The status of an order not containing any download tagged as %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleIncluded:(0,p._x)("The status of an order containing at least one download tagged as %2$s is set to %1$s.","text","nelio-ab-testing")},ke=ue(ue({},Te),{multipleExcluded:Te.singleExcluded,multipleIncluded:Te.singleIncluded}),Oe={empty:"",
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
excluded:(0,p._x)("doesn’t have %2$s in taxonomy %1$s","text (implicit subject: download)","nelio-ab-testing"),
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
included:(0,p._x)("has %2$s in taxonomy %1$s","text (implicit subject: download)","nelio-ab-testing")},Pe=(0,p._x)(", and ","text (2+ item list)","nelio-ab-testing"),Fe="nab/edd-order",Ne={name:Fe,title:(0,p._x)("Easy Digital Downloads Purchase","text","nelio-ab-testing"),description:(0,p._x)("Counts an Easy Digital Downloads purchase as a conversion.","text","nelio-ab-testing"),icon:ne(),validate:function(e){var t=e.value;if("all-downloads"===t.type)return{};var n=t.value;switch(n.type){case"download-ids":return n.downloadIds.length?{}:{type:(0,p._x)("Please select a download","user","nelio-ab-testing")};case"download-taxonomies":var o=n.value;return o.length?o.every((function(e){return!!e.termIds.length}))?{}:{type:(0,p._x)("Please select one or more terms in all your taxonomies","user","nelio-ab-testing")}:{type:(0,p._x)("Please select one or more taxonomies","user","nelio-ab-testing")}}},isActive:function(e){return e(w.STORE_NAME).getActivePlugins().includes("easy-digital-downloads/easy-digital-downloads.php")},attributes:{type:"download-selection",value:{type:"all-downloads"}},scope:{type:"php-function"},edit:oe,view:function(e){var t=e.attributes,n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["attributes"]),o=t.value,r=n.goal.orderStatusForConversion,a=void 0===r?"complete":r;switch(o.type){case"all-downloads":return g.createElement(me,{status:a});case"some-downloads":return g.createElement(pe,{selection:o.value,status:a})}}},$e=n(3441),Re=n.n($e);function Me(e){return"nab_elementor_form"===e.formType||"nab_hubspot_form"===e.formType}function je(e){return"nab_hubspot_form"===e.formType?(0,p._x)("Form ID","text","nelio-ab-testing"):(0,p._x)("Form Name","text","nelio-ab-testing")}var Le=function(e){var t=e.attributes,n=e.scope,o=e.errors,r=e.setAttributes,a=e.setScope,i=t.formId,s=t.formType,l=t.formName,c=void 0===l?"":l,u=(0,x.useInstanceId)(Le),d=Ve();return(0,g.useEffect)((function(){var e;!s&&(null===(e=d[0])||void 0===e?void 0:e.value)&&r({formType:d[0].value,formId:void 0,formName:void 0})}),[s,d.length]),g.createElement(g.Fragment,null,d.length>1&&g.createElement(b.SelectControl,{label:(0,p._x)("Form Type","text","nelio-ab-testing"),options:d,value:s,onChange:function(e){return r({formType:e,formId:void 0,formName:void 0})}}),Me(t)?g.createElement(b.TextControl,{id:"nab-conversion-action__form-submission-".concat(u),label:je(t),help:g.createElement(_.ErrorText,{value:o.formName}),value:c,onChange:function(e){return r({formType:s,formId:0,formName:e})}}):g.createElement(b.BaseControl,{id:"nab-conversion-action__form-submission-".concat(u),className:E()({"nab-conversion-action__field--has-errors":o.formId}),label:(0,p._x)("Actual Form","text","nelio-ab-testing"),help:g.createElement(_.ErrorText,{value:o.formId})},g.createElement(_.PostSearcher,{id:"nab-conversion-action__form-submission-".concat(u),type:s,perPage:10,value:i,onChange:function(e){return r({formType:s,formId:e,formName:void 0})}})),g.createElement(_.ConversionActionScope,{scope:n,setScope:a,error:o._scope}))},Ve=function(){return(0,y.useSelect)((function(e){var t=((0,e(w.STORE_NAME).getKindEntities)()||[]).filter((function(e){return"form"===e.kind})).map((function(e){return{value:e.name,label:e.labels.singular_name}}));return(0,Q.sortBy)(t,"label")}))},De=function(){return De=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},De.apply(this,arguments)},Ue=function(e){var t=e.attributes,n=Be(t),o=t.formType;return n?g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(ze(o),"{{strong}}".concat(n,"{{/strong}}")),components:{strong:g.createElement("strong",null)}})):g.createElement(g.Fragment,null,function(e){switch(e){case"nelio_form":return(0,p._x)("A visitor successfully submits a Nelio Form.","text","nelio-ab-testing");case"wpcf7_contact_form":return(0,p._x)("A visitor successfully submits a Contact Form 7.","text","nelio-ab-testing");case"nab_elementor_form":return(0,p._x)("A visitor successfully submits an Elementor Form.","text","nelio-ab-testing");case"nab_hubspot_form":return(0,p._x)("A visitor successfully submits a HubSpot Form.","text","nelio-ab-testing");case"nab_gravity_form":return(0,p._x)("A visitor successfully submits a Gravity Form.","text","nelio-ab-testing");case"nab_ninja_form":return(0,p._x)("A visitor successfully submits a Ninja Form.","text","nelio-ab-testing");case"nab_formidable_form":return(0,p._x)("A visitor successfully submits a Formidable Form.","text","nelio-ab-testing");case"wpforms":return(0,p._x)("A visitor successfully submits a WPForm.","text","nelio-ab-testing");case"nab_forminator_form":return(0,p._x)("A visitor successfully submits a Forminator Form.","text","nelio-ab-testing");default:return(0,p._x)("A visitor successfully submits a form.","text","nelio-ab-testing")}}(o))},Be=function(e){return(0,y.useSelect)((function(t){var n;return t(w.STORE_NAME),(Me(e)?e.formName:null===(n=t(w.STORE_NAME).getEntityRecord(e.formType,e.formId))||void 0===n?void 0:n.title)||""}))};function ze(e){switch(e){case"nelio_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Nelio Form.","text","nelio-ab-testing");case"wpcf7_contact_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Contact Form 7.","text","nelio-ab-testing");case"nab_elementor_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Elementor Form.","text","nelio-ab-testing");case"nab_hubspot_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s HubSpot Form.","text","nelio-ab-testing");case"nab_gravity_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Gravity Form.","text","nelio-ab-testing");case"nab_ninja_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Ninja Form.","text","nelio-ab-testing");case"nab_formidable_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Formidable Form.","text","nelio-ab-testing");case"wpforms":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s WPForm.","text","nelio-ab-testing");case"nab_forminator_form":
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s Forminator Form.","text","nelio-ab-testing");default:
/* translators: form name */
return(0,p._x)("A visitor successfully submits the %s form.","text","nelio-ab-testing")}}var We,He="nab/form-submission",Ye={name:He,title:(0,p._x)("Form submission","text","nelio-ab-testing"),description:(0,p._x)("Counts a form submission as a conversion.","text","nelio-ab-testing"),icon:Re(),validate:function(e){return Me(e)||e.formId?Me(e)&&!e.formName?{formName:(0,p._x)("Please specify the form whose submissions you want to track","user","nelio-ab-testing")}:{}:{formId:(0,p._x)("Please select a form to track its submissions","user","nelio-ab-testing")}},isActive:function(e){return e(w.STORE_NAME).getKindEntities().some((function(e){return"form"===e.kind}))},attributes:{formType:"",formId:0},scope:{type:"test-scope"},edit:Le,view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(Ue,De({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},Ze=n(8047),Je=n.n(Ze),Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ke.apply(this,arguments)},Qe=function(e){return g.createElement(g.Fragment,null,"id"===e.attributes.mode?g.createElement(qe,Ke({},e)):g.createElement(Ge,Ke({},e)),g.createElement(b.ToggleControl,{label:(0,p._x)("Select page by URL","command","nelio-ab-testing"),checked:"url"===e.attributes.mode,onChange:function(t){e.setAttributes({mode:t?"url":"id"}),e.setScope(t?{type:"urls",regexes:[e.attributes.url]}:{type:"post-ids",ids:[e.attributes.postId]})}}))},qe=function(e){var t,n=e.attributes,o=n.postId,r=n.postType,a=e.setAttributes,i=e.setScope,s=e.errors,l=(0,x.useInstanceId)(Qe),c=tt(),u=c.value,d=c.isLoading,m=r||(null===(t=u[0])||void 0===t?void 0:t.value);if((0,g.useEffect)((function(){d||u.map((function(e){return e.value})).includes(r)||f({postType:"page",postId:0})}),[r,d]),d)return null;var f=function(e){a(e),i({type:"post-ids",ids:e.postType&&e.postId?[e.postId]:[]})};return g.createElement(g.Fragment,null,u.length>1&&g.createElement(b.SelectControl,{label:(0,p._x)("Content Type","text","nelio-ab-testing"),options:u,value:m,onChange:function(e){return f({postType:e,postId:void 0})}}),g.createElement(b.BaseControl,{id:"nab-conversion-action__page-view-".concat(l),className:E()({"nab-conversion-action__field--has-errors":!!s.postId}),label:g.createElement(Xe,{postType:r,postId:o}),help:g.createElement(_.ErrorText,{value:s.postId})},g.createElement(_.PostSearcher,{id:"nab-conversion-action__page-view-".concat(l),type:m,perPage:10,value:o,onChange:function(e){return f({postId:e,postType:m})}})))},Ge=function(e){var t=e.attributes.url,n=e.setAttributes,o=e.setScope,r=e.errors;return g.createElement(g.Fragment,null,g.createElement(b.TextControl,{label:(0,p._x)("URL","text","nelio-ab-testing"),value:t,onChange:function(e){n({url:(0,Q.trim)(e)}),o({type:"urls",regexes:(0,Q.trim)(e)?[(0,Q.trim)(e)]:[]})},help:g.createElement(_.ErrorText,{value:r.url})}))},Xe=function(e){var t=e.postType,n=e.postId,o=nt(t,n);return o?g.createElement("span",null,R({mixedString:(0,p._x)("Actual Content ({{a}}View{{/a}})","text","nelio-ab-testing"),components:{a:o?g.createElement(b.ExternalLink,{href:o}):g.createElement("span",null)}})):g.createElement("span",null,(0,p._x)("Actual Content","text","nelio-ab-testing"))},et=["attachment","product_variation"],tt=function(){return(0,y.useSelect)((function(e){var t=e(w.STORE_NAME),n=t.getKindEntities,o=t.hasFinishedResolution,r=t.hasResolutionFailed,a=!o("getKindEntities")&&!r("getKindEntities"),i=(n()||[]).filter((function(e){return"entity"===e.kind&&!et.includes(e.name)})).map((function(e){return{value:e.name,label:e.labels.singular_name}}));return{value:(0,Q.sortBy)(i,"label"),isLoading:a}}))},nt=function(e,t){return(0,y.useSelect)((function(n){var o;return null===(o=n(w.STORE_NAME).getEntityRecord(e,t))||void 0===o?void 0:o.link}))},ot=function(){return ot=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ot.apply(this,arguments)},rt=function(e){var t=e.attributes,n=t.postType,o=t.postId,r=it(n),a=st(n,o),i=lt(n,o);if("page"===n||"post"===n){var s="page"===n?/* translators: the title of a page */ /* translators: the title of a page */
(0,p._x)("A visitor views the %s page.","text","nelio-ab-testing"):/* translators: the title of a post */ /* translators: the title of a post */
(0,p._x)("A visitor views the %s post.","text","nelio-ab-testing"),l="page"===n?(0,p._x)("A visitor views a page in your website.","text","nelio-ab-testing"):(0,p._x)("A visitor views a post in your website.","text","nelio-ab-testing");return a?g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(s,(0,p.sprintf)("{{a}}%s{{/a}}",a)),components:{a:i?g.createElement(b.ExternalLink,{href:i}):g.createElement("strong",null)}})):g.createElement(g.Fragment,null,l)}return a?g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: 1 -> the title of a custom post type; 2 -> a post type name */ /* translators: 1 -> the title of a custom post type; 2 -> a post type name */
(0,p._x)("A visitor views %1$s (%2$s).","text","nelio-ab-testing"),(0,p.sprintf)("{{a}}%s{{/a}}",a),r),components:{a:i?g.createElement(b.ExternalLink,{href:i}):g.createElement("strong",null)}})):g.createElement(g.Fragment,null,(0,p.sprintf)(/* translators: a custom post type */ /* translators: a custom post type */
(0,p._x)("A visitor views some content in your website with the type %s.","text","nelio-ab-testing"),r))},at=function(e){var t=e.attributes.url;return t?g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: a page URL */ /* translators: a page URL */
(0,p._x)("A visitor views a page with URL %s.","text","nelio-ab-testing"),(0,p.sprintf)("{{code}}%s{{/code}}",t)),components:{code:g.createElement("code",null)}})):g.createElement(g.Fragment,null,(0,p._x)("A visitor views a page in your website.","text","nelio-ab-testing"))},it=function(e){var t,n=(0,y.useSelect)((function(e){return e(w.STORE_NAME).getKindEntities()||[]})),o=(0,Q.find)(n,{name:e||""});return(null===(t=null==o?void 0:o.labels)||void 0===t?void 0:t.singular_name)||(0,p._x)("Unknown","text (post type)","nelio-ab-testing")},st=function(e,t){return(0,y.useSelect)((function(n){var o;return null===(o=n(w.STORE_NAME).getEntityRecord(e,t))||void 0===o?void 0:o.title}))},lt=function(e,t){return(0,y.useSelect)((function(n){var o;return ct()&&(null===(o=n(w.STORE_NAME).getEntityRecord(e,t))||void 0===o?void 0:o.link)}))},ct=function(){return!!document.querySelector(".nab-results-experiment-layout")},ut=function(e){return 0<=e.indexOf("?")&&(0,p._x)("Please write a URL with no query args","user","nelio-ab-testing")},dt=function(e){return!/^https:\/\//.test(e)&&(0,p._x)("Please write a full URL starting with “https://”","user","nelio-ab-testing")},mt="nab/page-view",pt={name:mt,title:(0,p._x)("Page view","text","nelio-ab-testing"),description:(0,p._x)("Counts a visit to a page as a conversion.","text","nelio-ab-testing"),icon:Je(),validate:function(e){var t=e.mode,n=e.url,o=e.postId;if("id"===t&&!o)return{postId:(0,p._x)("Please select a content to track its visits as conversions","user","nelio-ab-testing")};var r="url"===t&&function(e){return(0,H.isUrlInvalid)(e)||ut(e)||dt(e)}(n);return r?{url:r}:{}},attributes:{mode:"id",postType:"page",postId:0,url:""},scope:{type:"post-ids",ids:[]},edit:Qe,view:function(e){return"id"===e.attributes.mode?g.createElement(rt,ot({},e)):g.createElement(at,ot({},e))}},ft=n(3715),vt=n.n(ft),gt=function(e){if(bt(e))return e;if(e.anyProduct)return{type:"product-selection",value:{type:"all-products"}};var t=e.productId;return{type:"product-selection",value:{type:"some-products",value:{type:"product-ids",mode:"and",productIds:t?[t]:[]}}}},bt=function(e){return"product-selection"===e.type&&!xt(e)},xt=function(e){return!!e.productId},yt=function(e){var t=e.attributes,n=e.setAttributes,o=e.errors,r=(0,x.useInstanceId)(yt),a=gt(t).value,i="some-products"===a.type&&"product-ids"===a.value.type&&a.value.productIds[0]||0,s=function(e){return n({type:"product-selection",value:e})};return(0,g.useEffect)((function(){"product-selection"!==t.type&&s(a)}),[]),g.createElement(g.Fragment,null,g.createElement(b.ToggleControl,{label:(0,p._x)("Track conversion if the order contains a specific product.","command","nelio-ab-testing"),checked:"some-products"===a.type,onChange:function(e){return s(e?_t:Et)}}),"some-products"===a.type&&"product-ids"===a.value.type&&g.createElement(b.BaseControl,{id:"nab-conversion-action__wc-add-to-cart-".concat(r),className:E()({"nab-conversion-action__field--has-errors":o.type}),label:g.createElement(ht,{productId:i}),help:g.createElement(_.ErrorText,{value:o.type})},g.createElement(_.PostSearcher,{id:"nab-conversion-action__wc-add-to-cart-".concat(r),type:"product",perPage:10,value:i,onChange:function(e){return s({type:"some-products",value:{type:"product-ids",mode:"and",productIds:e?[e]:[]}})}})))},ht=function(e){var t=e.productId,n=wt(t);return n?g.createElement("span",null,R({mixedString:(0,p._x)("Product ({{a}}View{{/a}})","text","nelio-ab-testing"),components:{a:g.createElement(b.ExternalLink,{href:n})}})):g.createElement("span",null,(0,p._x)("Product","text","nelio-ab-testing"))},Et={type:"all-products"},_t={type:"some-products",value:{type:"product-ids",mode:"and",productIds:[]}},wt=function(e){return(0,y.useSelect)((function(t){var n;return null===(n=t(w.STORE_NAME).getEntityRecord("product",e))||void 0===n?void 0:n.link}))},Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ct.apply(this,arguments)},St=null!==(We=null===le.store||void 0===le.store?void 0:le.store.name)&&void 0!==We?We:"core",It=function(e){var t=e.status,n=Rt(t);return"wc-completed"===t?g.createElement(g.Fragment,null,(0,p._x)("An order is completed.","text","nelio-ab-testing")):Pt((0,p.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,p._x)("The status of an order is set to %s.","text","nelio-ab-testing"),Ft(n)))},At=function(e){var t=e.selection,n=e.status;switch(t.type){case"product-ids":return g.createElement(Tt,{selection:t,status:n});case"product-taxonomies":return g.createElement(kt,{selection:t,status:n})}},Tt=function(e){var t=e.selection,n=e.status,o=t.productIds,r=t.mode,a=t.excluded,i=void 0!==a&&a,s=Ft(Rt(n)),l=(0,Q.map)(Mt(o),Nt);switch(l.length){case 0:return Pt((0,p.sprintf)(Vt,s));case 1:return Pt((0,p.sprintf)(i?Dt.singleExcluded:Dt.singleIncluded,s,l[0]));default:return Pt((0,p.sprintf)(i?Dt.multipleExcluded:Dt.multipleIncluded,s,(0,H.listify)(r,l)))}},kt=function(e){var t=e.selection,n=e.status,o=Ft(Rt(n)),r=t.value.filter((function(e){return!!e.termIds.length})),a=(0,Q.find)(r,{taxonomy:"product_cat"}),i=(0,Q.map)(Lt(null==a?void 0:a.taxonomy,null==a?void 0:a.termIds),Nt),s=(0,Q.find)(r,{taxonomy:"product_tag"}),l=(0,Q.map)(Lt(null==s?void 0:s.taxonomy,null==s?void 0:s.termIds),Nt);if(!(0,H.hasHead)(r))return Pt((0,p.sprintf)(Vt,o));if((0,H.isSingleton)(r)&&(a||s)){var c=i||l||[],u=(null==a?void 0:a.mode)||(null==s?void 0:s.mode)||"or",d=!!(null==a?void 0:a.excluded)||!!(null==s?void 0:s.excluded)||!1,m=a?Ut:zt;return(0,H.isSingleton)(c)?Pt((0,p.sprintf)(d?m.singleExcluded:m.singleIncluded,o,c[0])):Pt((0,p.sprintf)(d?m.multipleExcluded:m.multipleIncluded,o,(0,H.listify)(u,c)))}if(2===r.length&&a&&s)return Pt((0,p.sprintf)(/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */ /* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */
(0,p._x)("The status of an order is set to %1$s and said order has at least one product in category %2$s and is tagged as %3$s.","text","nelio-ab-testing"),o,(0,H.listify)(a.mode,i),(0,H.listify)(s.mode,l)));var f=(0,Q.reverse)(r),v=f[0],b=f.slice(1),x=(0,Q.reverse)(b);return g.createElement(g.Fragment,null,Pt((0,p.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,p._x)("The status of an order is set to %s and said order has at least one product that","text","nelio-ab-testing"),o)),x.map((function(e){return g.createElement(g.Fragment,null,g.createElement(Ot,{key:e.taxonomy,selection:e,status:n}),1===x.length?"":"; ")})),(0,H.isSingleton)(r)?"":Ht,g.createElement(Ot,{selection:v,status:n}),".")},Ot=function(e){var t=e.selection,n=t.taxonomy,o=t.mode,r=t.termIds,a=t.excluded,i=Ft(jt(n)),s=(0,Q.map)(Lt(n,r),Nt);return Pt((0,p.sprintf)(a?Wt.excluded:Wt.included,i,(0,H.listify)(o,s)))},Pt=function(e){return R({mixedString:e,components:{em:g.createElement("em",null),strong:g.createElement("strong",null)}})},Ft=function(e){return"{{em}}".concat(e,"{{/em}}")},Nt=function(e){return"{{strong}}".concat(e,"{{/strong}}")},$t=document.createElement("div"),Rt=function(e){return(0,y.useSelect)((function(t){var n,o;return null!==(o=null===(n=(0,Q.find)(t(w.STORE_NAME).getECommerceSetting("woocommerce","orderStatuses"),{value:e}))||void 0===n?void 0:n.label)&&void 0!==o?o:e}))},Mt=function(e){return(0,y.useSelect)((function(t){return e.map((function(e){var n;return(0,Q.trim)(null===(n=t(w.STORE_NAME).getEntityRecord("product",e))||void 0===n?void 0:n.title)||(0,p.sprintf)(/* translators: product id */ /* translators: product id */
(0,p._x)("Product #%d","text","nelio-ab-testing"),e)}))}))},jt=function(e){return(0,y.useSelect)((function(t){var n,o;return null!==(o=null===(n=t(St).getTaxonomy(e))||void 0===n?void 0:n.labels.singular_name)&&void 0!==o?o:e}))},Lt=function(e,t){return void 0===t&&(t=[]),(0,y.useSelect)((function(n){return n(St),e&&t?t.map((function(t){var o;return function(e){var t;return $t.innerHTML=e,null!==(t=$t.textContent)&&void 0!==t?t:e}((null===(o=n(St).getEntityRecord("taxonomy",e,t))||void 0===o?void 0:o.name)||"#".concat(t))})):[]}))},Vt=(0,p._x)("The status of an order is set to %s.","text","nelio-ab-testing"),Dt={
/* translators: 1 -> woocomerce status, 2 -> product name */
singleExcluded:(0,p._x)("The status of an order not containing product %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> product name */
singleIncluded:(0,p._x)("The status of an order containing the product %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of product names */
multipleExcluded:(0,p._x)("The status of an order not containing any of the products %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of product names */
multipleIncluded:(0,p._x)("The status of an order containing products %2$s is set to %1$s.","text","nelio-ab-testing")},Ut={
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleExcluded:(0,p._x)("The status of an order not containing any product in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleIncluded:(0,p._x)("The status of an order containing at least one product in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleExcluded:(0,p._x)("The status of an order not containing any products in categories %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleIncluded:(0,p._x)("The status of an order containing at least one product in categories %2$s is set to %1$s.","text","nelio-ab-testing")},Bt={
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleExcluded:(0,p._x)("The status of an order not containing any product tagged as %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleIncluded:(0,p._x)("The status of an order containing at least one product tagged as %2$s is set to %1$s.","text","nelio-ab-testing")},zt=Ct(Ct({},Bt),{multipleExcluded:Bt.singleExcluded,multipleIncluded:Bt.singleIncluded}),Wt={empty:"",
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
excluded:(0,p._x)("doesn’t have %2$s in taxonomy %1$s","text (implicit subject: product)","nelio-ab-testing"),
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
included:(0,p._x)("has %2$s in taxonomy %1$s","text (implicit subject: product)","nelio-ab-testing")},Ht=(0,p._x)(", and ","text (2+ item list)","nelio-ab-testing"),Yt="nab/wc-order",Zt={name:Yt,title:(0,p._x)("WooCommerce Purchase","text","nelio-ab-testing"),description:(0,p._x)("Counts a WooCommerce purchase as a conversion.","text","nelio-ab-testing"),icon:vt(),validate:function(e){var t=gt(e).value;if("all-products"===t.type)return{};var n=t.value;switch(n.type){case"product-ids":return n.productIds.length?{}:{type:(0,p._x)("Please select a product","user","nelio-ab-testing")};case"product-taxonomies":var o=n.value;return o.length?o.every((function(e){return!!e.termIds.length}))?{}:{type:(0,p._x)("Please select one or more terms in all your taxonomies","user","nelio-ab-testing")}:{type:(0,p._x)("Please select one or more taxonomies","user","nelio-ab-testing")}}},isActive:function(e){return e(w.STORE_NAME).getActivePlugins().includes("woocommerce/woocommerce.php")},attributes:{type:"product-selection",value:{type:"all-products"}},scope:{type:"php-function"},edit:yt,view:function(e){var t=e.attributes,n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["attributes"]),o=gt(t).value,r=n.goal.orderStatusForConversion,a=void 0===r?"wc-completed":r;switch(o.type){case"all-products":return g.createElement(It,{status:a});case"some-products":return g.createElement(At,{selection:o.value,status:a})}}},Jt=n(6687),Kt=n.n(Jt),Qt=function(e){var t=e.attributes,n=t.anyProduct,o=t.productId,r=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope,l=(0,x.useInstanceId)(Qt);return g.createElement(g.Fragment,null,g.createElement(b.ToggleControl,{label:(0,p._x)("Track conversion if a specific product is added to the shopping cart.","command","nelio-ab-testing"),checked:!n,onChange:function(){return i({anyProduct:!n})}}),!n&&g.createElement(b.BaseControl,{id:"nab-conversion-action__wc-order-".concat(l),className:E()({"nab-conversion-action__field--has-errors":a.productId}),label:g.createElement(qt,{productId:o}),help:g.createElement(_.ErrorText,{value:a.productId})},g.createElement(_.PostSearcher,{id:"nab-conversion-action__wc-order-".concat(l),type:"product",perPage:10,value:o,onChange:function(e){return i({productId:e})}})),g.createElement(_.ConversionActionScope,{scope:r,setScope:s,error:a._scope}))},qt=function(e){var t=e.productId,n=Gt(t);return n?g.createElement("span",null,R({mixedString:(0,p._x)("Product ({{a}}View{{/a}})","text","nelio-ab-testing"),components:{a:g.createElement(b.ExternalLink,{href:n})}})):g.createElement("span",null,(0,p._x)("Product","text","nelio-ab-testing"))},Gt=function(e){return(0,y.useSelect)((function(t){var n;return null===(n=t(w.STORE_NAME).getEntityRecord("product",e))||void 0===n?void 0:n.link}))},Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Xt.apply(this,arguments)},en=function(e){var t=e.attributes,n=t.anyProduct,o=t.productId,r=tn(o);return n?g.createElement(g.Fragment,null,(0,p._x)("Any product is added to the shopping cart.","text","nelio-ab-testing")):r?g.createElement(g.Fragment,null,R({mixedString:(0,p.sprintf)(/* translators: the name of a product */ /* translators: the name of a product */
(0,p._x)("The product %s is added to the shopping cart.","text","nelio-ab-testing"),(0,p.sprintf)("{{strong}}%s{{/strong}}",r)),components:{strong:g.createElement("strong",null)}})):g.createElement(g.Fragment,null,(0,p._x)("A specific product is added to the shopping cart.","text","nelio-ab-testing"))},tn=function(e){return(0,y.useSelect)((function(t){var n;return null===(n=t(w.STORE_NAME).getEntityRecord("product",e))||void 0===n?void 0:n.title}))},nn="nab/wc-add-to-cart",on={name:nn,title:(0,p._x)("Add WooCommerce product to cart","text","nelio-ab-testing"),description:(0,p._x)("Counts adding a product to the shopping cart in WooCommerce as a conversion.","text","nelio-ab-testing"),icon:Kt(),validate:function(e){var t=e.anyProduct,n=e.productId;return t||n?{}:{productId:(0,p._x)("Please select a product","user","nelio-ab-testing")}},isActive:function(e){return e(w.STORE_NAME).getActivePlugins().includes("woocommerce/woocommerce.php")},attributes:{anyProduct:!1,productId:0},scope:{type:"test-scope"},edit:Qt,view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(en,Xt({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},rn=n(4003),an=n.n(rn),sn=function(){return sn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},sn.apply(this,arguments)},ln=function(e){var t=e.attributes,n=t.event,o=t.videoId;if(!o)return g.createElement(g.Fragment,null,"play"===n?(0,p._x)("A visitor plays a YouTube video.","text","nelio-ab-testing"):(0,p._x)("A visitor reaches the end of a YouTube video.","text","nelio-ab-testing"));switch(n){case"play":return R({mixedString:(0,p.sprintf)(/* translators: video id, such as “dQw4w9WgXcQ” */ /* translators: video id, such as “dQw4w9WgXcQ” */
(0,p._x)("A visitor plays the YouTube video %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}});case"end":return R({mixedString:(0,p.sprintf)(/* translators: video id, such as “dQw4w9WgXcQ” */ /* translators: video id, such as “dQw4w9WgXcQ” */
(0,p._x)("A visitor reaches the end of the YouTube video %s.","text","nelio-ab-testing"),"{{code}}".concat(o,"{{/code}}")),components:{code:g.createElement("code",null)}})}},cn="nab/video-playback",un={name:cn,title:(0,p._x)("YouTube Video Playback","text","nelio-ab-testing"),description:(0,p._x)("Counts YouTube video playback (starting or ending) as a conversion.","text","nelio-ab-testing"),icon:an(),validate:function(e){var t=e.platform,n=e.videoId;return"youtube"!==t||/[-\w]{11}/.test(n)?n?{}:{videoId:(0,p._x)("Please write a video ID","user","nelio-ab-testing")}:{videoId:(0,p._x)("Please write a valid YouTube video ID. For instance, the video ID dQw4w9WgXcQ refers to https://youtu.be/dQw4w9WgXcQ","user","nelio-ab-testing")}},attributes:{platform:"youtube",event:"play",videoId:""},scope:{type:"test-scope"},edit:function(e){var t=e.attributes,n=t.event,o=t.videoId,r=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope;return g.createElement(g.Fragment,null,g.createElement(b.SelectControl,{label:(0,p._x)("Event","text","nelio-ab-testing"),options:[{value:"play",label:(0,p._x)("Play Video","text","nelio-ab-testing")},{value:"end",label:(0,p._x)("Reach End of Video","text","nelio-ab-testing")}],value:n,onChange:function(e){return i({event:e})}}),g.createElement(b.TextControl,{className:E()({"nab-conversion-action__field--has-errors":a.videoId}),label:(0,p._x)("Video ID","text","nelio-ab-testing"),value:o,help:g.createElement(_.ErrorText,{value:a.videoId}),placeholder:(0,p._x)("Video ID","text","nelio-ab-testing"),onChange:function(e){return i({videoId:e})}}),g.createElement(_.ConversionActionScope,{scope:r,setScope:s,error:a._scope}))},view:function(e){return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement(ln,sn({},e))),g.createElement(_.ConversionActionScopeView,{scope:e.scope}))}},dn=function(){[s,e,t,a,i,u,l,c,r].forEach((function(e){if(e){var t=e.name,n=e.settings;(0,m.registerConversionActionType)(t,n)}}))}})();var r=nab="undefined"==typeof nab?{}:nab;for(var a in o)r[a]=o[a];o.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();