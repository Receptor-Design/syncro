{"version":3,"file":"gutenberg.js","mappings":"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","sources":["webpack://gutenberghub-query-search/./node_modules/@wordpress/icons/build-module/library/search.js","webpack://gutenberghub-query-search/./packages/gutenberg/src/extensions/index.js","webpack://gutenberghub-query-search/./packages/gutenberg/src/extensions/query-loop.js","webpack://gutenberghub-query-search/./packages/gutenberg/src/variations/index.js","webpack://gutenberghub-query-search/./packages/gutenberg/src/variations/search.js","webpack://gutenberghub-query-search/external window \"lodash\"","webpack://gutenberghub-query-search/external window [\"wp\",\"blocks\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"compose\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"data\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"element\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"hooks\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"i18n\"]","webpack://gutenberghub-query-search/external window [\"wp\",\"primitives\"]","webpack://gutenberghub-query-search/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://gutenberghub-query-search/webpack/bootstrap","webpack://gutenberghub-query-search/webpack/runtime/compat get default export","webpack://gutenberghub-query-search/webpack/runtime/define property getters","webpack://gutenberghub-query-search/webpack/runtime/hasOwnProperty shorthand","webpack://gutenberghub-query-search/webpack/runtime/make namespace object","webpack://gutenberghub-query-search/./packages/gutenberg/src/index.js"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst search = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"\n}));\nexport default search;\n//# sourceMappingURL=search.js.map","import './query-loop';\r\n","/**\r\n * WordPress Dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { select } from '@wordpress/data';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { assign, isEmpty, uniqueId } from 'lodash';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\n\r\n/**\r\n * Add new attributes to the block\r\n */\r\nconst addAttributes = ( props ) => {\r\n\tif ( isEmpty( props.attributes ) || props.name !== 'core/query' ) {\r\n\t\treturn props;\r\n\t}\r\n\tprops.attributes = assign(\r\n\t\tprops.attributes,\r\n\t\t{\r\n\t\t\t...props.attributes,\r\n\t\t\tghubQueryId: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: '',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{}\r\n\t);\r\n\r\n\treturn props;\r\n};\r\n\r\nconst withAdvanceControls = createHigherOrderComponent( ( BlockEdit ) => {\r\n\treturn ( props ) => {\r\n\t\tconst { name } = props;\r\n\r\n\t\tif ( name !== 'core/query' ) {\r\n\t\t\treturn <BlockEdit { ...props } />;\r\n\t\t}\r\n\t\tuseEffect( () => {\r\n\t\t\tconst blocks = select( 'core/block-editor' ).getBlocks();\r\n\r\n\t\t\tblocks.forEach( ( block ) => {\r\n\t\t\t\tif ( block.name === 'core/query' ) {\r\n\t\t\t\t\tconst queryId = block.attributes.ghubQueryId;\r\n\t\t\t\t\tconst shouldSetQueryId =\r\n\t\t\t\t\t\tprops.attributes.ghubQueryId === queryId ||\r\n\t\t\t\t\t\tisEmpty( props.attributes.ghubQueryId );\r\n\r\n\t\t\t\t\tif ( shouldSetQueryId ) {\r\n\t\t\t\t\t\tprops.setAttributes( {\r\n\t\t\t\t\t\t\tghubQueryId: uniqueId(),\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}, [] );\r\n\r\n\t\treturn <BlockEdit { ...props } />;\r\n\t};\r\n}, 'withAdvanceControls' );\r\n\r\nconst withBlockWrapper = createHigherOrderComponent( ( BlockListBlock ) => {\r\n\treturn ( props ) => {\r\n\t\tif ( props.name !== 'core/query' ) {\r\n\t\t\treturn <BlockListBlock { ...props } />;\r\n\t\t}\r\n\r\n\t\tprops.wrapperProps = {\r\n\t\t\t...props.wrapperProps,\r\n\t\t\t'data-ghubqueryid': props.attributes.ghubQueryId,\r\n\t\t};\r\n\t\treturn <BlockListBlock { ...props } { ...props.wrapperProps } />;\r\n\t};\r\n}, 'withBlockWrapper' );\r\n\r\naddFilter(\r\n\t'editor.BlockListBlock',\r\n\t'ghub-gallery-lightbox/with-block-wrapper',\r\n\twithBlockWrapper\r\n);\r\n\r\naddFilter(\r\n\t'editor.BlockEdit',\r\n\t'ghub-query-taxonomy/with-advance-controls',\r\n\twithAdvanceControls\r\n);\r\n\r\naddFilter(\r\n\t'blocks.registerBlockType',\r\n\t'ghub-query-taxonomy/add-attributes',\r\n\taddAttributes\r\n);\r\n","/**\r\n * All variations should be included here.\r\n */\r\nimport './search';\r\n","/**\r\n * WordPress Dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { search } from '@wordpress/icons';\r\nimport { registerBlockVariation } from '@wordpress/blocks';\r\n\r\nimport { has } from 'lodash';\r\n\r\nregisterBlockVariation( 'core/search', {\r\n\ticon: search,\r\n\tname: 'gutenberghub-query-search',\r\n\ttitle: __( 'Query Search', 'gutenberghub-query-filters' ),\r\n\tcategory: 'ghub-products',\r\n\tdescription: __(\r\n\t\t'Query search allows you specifically search inside query loop. Simply insert it inside the query loop.'\r\n\t),\r\n\tkeywords: [ 'query', 'search', 'loop' ],\r\n\tattributes: {\r\n\t\tclassName: 'ghub-query-search',\r\n\t\tbuttonText: 'Search',\r\n\t\tlabel: 'Search',\r\n\t},\r\n\tisActive: ( blockAttributes, variationAttributes ) => {\r\n\t\tif ( ! has( blockAttributes, 'className' ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\tblockAttributes.className.indexOf(\r\n\t\t\t\tvariationAttributes.className\r\n\t\t\t) !== -1\r\n\t\t);\r\n\t},\r\n} );\r\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Variations\r\n */\r\nimport './variations';\r\n/**\r\n * Extensions\r\n */\r\nimport './extensions';\r\n"],"names":["__","select","addFilter","useEffect","assign","isEmpty","uniqueId","createHigherOrderComponent","addAttributes","props","attributes","name","ghubQueryId","type","default","withAdvanceControls","BlockEdit","createElement","blocks","getBlocks","forEach","block","queryId","shouldSetQueryId","setAttributes","withBlockWrapper","BlockListBlock","wrapperProps","_extends","search","registerBlockVariation","has","icon","title","category","description","keywords","className","buttonText","label","isActive","blockAttributes","variationAttributes","indexOf"],"sourceRoot":""}